
<!-- start Heading Part -->
<div class="col-md-12">
    <div class="row">
      <div class="col-md-2">
         
          <app-sidebaar></app-sidebaar>
      
      </div>
      <div class="col-md-10 PageBody">
         <!-- Start Body Part -->
         <!-- Start Header and Filter Part     -->
         <div class="headerIcon">
          <div class="filter">
              <div tabLink>
                  <a class="tablink nav-link" (click)="OpenPage('filter', $event)" [ngClass]="{'active': CurrentTab === 'filter'}"> <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 100 512 312"><path d="M3.9 54.9C10.5 40.9 24.5 32 40 32H472c15.5 0 29.5 8.9 36.1 22.9s4.6 30.5-5.2 42.5L320 320.9V448c0 12.1-6.8 23.2-17.7 28.6s-23.8 4.3-33.5-3l-64-48c-8.1-6-12.8-15.5-12.8-25.6V320.9L9 97.3C-.7 85.4-2.8 68.8 3.9 54.9z"/></svg></a>
              </div>
              <p>{{filter}}</p>
          </div>
          <div class="userIcon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 100 448 312"><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>
              <p>{{user}}</p>
          </div>
      </div>
      
      <div class="filterDetails">
          <div id="filter" class="tabcontent" [hidden]="CurrentTab !== 'filter'">
              <div class="col-md-12">
                  <div class="row">
                      <div class="col-md-3">
                          <label for="branch">Criteria:</label>
                          <select id="branch" class="form-control"  [(ngModel)]="criteria">
                              <option [value]="0" selected>Open Criteria</option>
                              <option value="Assigned">This Hour</option>
                              <option value="Assigned">Last Hour</option>
                              <option value="Assigned">This Day</option>
                              <option value="Cancel">Yesterday</option>
                              <option value="Done">This Week</option>
                              <option value="Assigned">Last Weeh</option>
                              <option value="Cancel">This Month</option>
                              <option value="Assigned">Last Month</option>
                          </select>
                      </div>
                      <div class="col-md-3">
                          <label for="branch">Region:</label>
                          <select id="branch" class="form-control" [(ngModel)]="region">
                            <option [value]="0" selected>All Regions</option>
                            <option [value]="1">South</option>
                            <option [value]="2">Narth</option>
                            <option [value]="3">Centeral</option>
                          </select>
                      </div>
                      <div class="col-md-3">
                          <label for="branch">Area Coach:</label>
                          <select id="branch" class="form-control"[(ngModel)]="id">
                            <option [value]="0" selected>All Area</option>
                            <option *ngFor="let areaCoach of AreaCoachdata" [value]="areaCoach.id">{{areaCoach.FirstName}}</option>
                        </select>
                      </div>
                      <div class="col-md-3">
                          <label for="branch">Branch:</label>
                          <select id="branch" class="form-control" [(ngModel)]="BranchID">
                            <option [value]="0" selected>All Branches</option>
                            <option *ngFor="let BranchareaCoach of BranchAreaCoachdata" [value]="BranchareaCoach.BranchID">{{BranchareaCoach.Title}}</option>
                        </select>
                      </div>
                  </div>
              </div>
              <div class="col-md-12">
                  <div class="row">
                    <div class="col-md-3">
                      <label for="">From Date : </label>
                      <input type="date" class="form-control" [(ngModel)]="SrtartDat">
                  </div>
                  <div class="col-md-3">
                      <label for="">To Date :</label>
                      <input type="date" class="form-control" [(ngModel)]="EndDate">
                  </div>
                  </div>
              </div>
      
              <br>
              <div class="col-md-12">
                  <div class="col-md-1 float-end">
                      <button class="rest">Reset</button>
                  </div>
                  <div class=" col-md-1 float-end">
                      <button class="filter" (click)="loadList()" (click)="AreaCoachList()" (click)="BranchAreaCoachList()" (click)="RiderloadList()">Filter</button>
                  </div>
              </div><br><br>
          </div>
      </div>
      <!-- End Header and Filter part       -->


         <div class="DetailsTbl col-md-12">
          <h4>Reports</h4>
          <div tabLink>
            <ul class="nav nav-tabs">
              <li class="nav-item">
                <a class="tablink nav-link" (click)="openPage('Lead', $event)" [ngClass]="{'active': currentTab === 'Lead'}"><b>Resturance Performance Report</b></a>
              </li>
              <li class="nav-item">
                <a class="tablink nav-link" (click)="openPage('Login', $event)" [ngClass]="{'active': currentTab === 'Login'}"><b>Rider Perfrmance</b></a>
              </li>

              <li class="nav-item">
                <a class="tablink nav-link" (click)="openPage('Location', $event)" [ngClass]="{'active': currentTab === 'Location'}"><b>Order Location</b></a>
              </li>

              <li class="nav-item">
                <a class="tablink nav-link" (click)="openPage('Details', $event)" [ngClass]="{'active': currentTab === 'Details'}"><b>Rider Order Details</b></a>
              </li>
            </ul>
          </div>

                  <!-- Start Table Part -->
                  <div id="Lead" class="tabcontent" [hidden]="currentTab !== 'Lead'">
                  <div class="overflow">
                      <table class="table table-sm table-hover data-table" id="datatableexample">
                      <thead>
                        <tr style="background-color: #716ACA !important;">
                          <td>Store</td>
                          <td>Store Id</td>
                          <td># Orders</td>
                          <td># Canceled</td>
                          <td># Delivered</td>
                          <td>Revenue Delivered</td>
                          <td>Revenue Lost</td>
                          <td>AVG Check Value</td>
                          <td>%1X</td>
                          <td>%2X</td>
                          <td>%3X</td>
                          <td>AVG In Store</td>
                          <td>AVG Deive</td>
                          <td>AVG Delivery</td>
                          <td>%SOS Under 30</td>
                          <td>%SOS Under 20</td>
                          <td>Manual Dispatch</td>
                          <td>Manual Dispatch%</td>
                          <td>Auto Dispatch</td>
                          <td>Auto Dispatch%</td>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of setting">
                            <td>{{ item.Title }}</td>
                            <td>{{ item.Title }}</td>
                            <td>{{ item.TotalOrders }}</td>
                            <td>{{ item.TotalCanceled }}</td>
                            <td>{{ item.TotalDelivered }}</td>
                            <td>{{ item.TotalAmount }}</td>
                            <td>{{ item.RevenueLost }}</td>
                            <td>{{ item.AvgCheckAmount }}</td>
                            <td>{{ item.SingleDispatch }}</td>
                            <td>{{ item.DoubleDispatch }}</td>
                            <td>{{ item.ThreeDispatchPlus }}</td>
                            <td>{{ item.AvgDriveTime }}</td>
                            <td>{{ item.AvgSosTime }}</td>
                            <td>{{ item.DeliveredUnder30 }}</td>
                            <td>{{ item.DeliveredUnder20 }}</td>
                            <td>{{ item.ManualDispatchCount }}</td>
                            <td>{{ item.ManualDispatchCount }}</td>
                            <td>{{ item.ManualDispatchCount }}</td>
                            <td>{{ item.ManualDispatchCount }}</td>
                            <td>{{ item.ManualDispatchCount }}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>

                <div id="Login" class="tabcontent" [hidden]="currentTab !== 'Login'">
                  <div class="overflow">
                    <table class="table table-sm table-hover data-table" id="datatableexample">
                    <thead>
                      <tr style="background-color: #716ACA !important;">
                        <td>Rider Name</td>
                        <td>Branch</td>
                        <td># Orders</td>
                        <td># Delivered Orders</td>
                        <td>Delivered Revenue</td>
                        <td>Cancel Orders</td>
                        <td>Lost Revenue</td>
                        <td>Avg Check Value</td>
                        <td>In Store Time</td>
                        <td>Drive Time</td>
                        <td>Delivery Time</td>
                        <td>SOS < 20</td>
                        <td>SOS < 30</td>
                        <td>Manual Dispatch	</td>
                        <td>Rating</td>
                      </tr>
                    </thead>

                    <tbody>
                      <tr *ngFor="let item of performance">
                          <td>{{ item.RiderName }}</td>
                          <td>{{ item.BranchTitle }}</td>
                          <td>{{ item.TotalOrders }}</td>
                          <td>{{ item.DeliveredOrders }}</td>
                          <td>{{ item.DeliveredOrdersRevenue }}</td>
                          <td>{{ item.CancelOrders }}</td>
                          <td>{{ item.CancelOrdersRevenue }}</td>
                          <td>{{ item.AvgCheckAmount }}</td>
                          <td>{{ item.InStoreTime }}</td>
                          <td>{{ item.TotalDriveTime }}</td>
                          <td>{{ item.AvgDeliveryTime }}</td>
                          <td>{{ item.SOS20Mins }}</td>
                          <td>{{ item.SOS30Mins}}</td>
                          <td>{{ item.ManualDispatchCount }}</td>
                          <td>{{ item.Rating }}</td>
                         </tr>
                    </tbody>

                  </table>
                </div>
                </div>

                <div id="Login" class="tabcontent" [hidden]="currentTab !== 'Location'">
                  <div class="overflow">
                    <table class="table table-sm table-hover data-table" id="datatableexample">
                    <thead>
                      <tr style="background-color: #716ACA !important;">
                        <td>Branch</td>
                        <td>Order No</td>
                        <td>Customer Name</td>
                        <td>Address</td>
                        <td>Contact No</td>
                        <td>Recieve Time</td>
                        <td>Dispatch Time</td>
                        <td>Delivery Time</td>
                        <td>Rider Name</td>
                        <td>Latitude</td>
                        <td>Longitude</td>
                        <td>Distance</td>
                        <td>C Latitude</td>
                        <td>C Latitude</td>
                        <td>Diff in</td>
                        <td>Distance</td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let item of orderlocation">
                          <td>{{ item.Title }}</td>
                          <td>{{ item.OrderNo }}</td>
                          <td>{{ item.CustomerName }}</td>
                          <td>{{ item.CustomerAddress }}</td>
                          <td>{{ item.CustomerPhoneNumber }}</td>
                          <td>{{ item.ReceiveTime }}</td>
                          <td>{{ item.DispatchDateTime }}</td>
                          <td>{{ item.DeliveryDateTime }}</td>
                          <td>{{ item.RiderName }}</td>
                          <td>{{ item.Latitude }}</td>
                          <td>{{ item.Longitude }}</td>
                          <td>{{ item.Distance }}</td>
                          <td>{{ item.CLatitude }}</td>
                          <td>{{ item.CLongitude }}</td>
                          <td>{{ item.Distance2 }}</td>
                        </tr>
                    </tbody>
                  </table>
                </div>
                </div>

                <div id="Login" class="tabcontent" [hidden]="currentTab !== 'Details'">
                  <div class="overflow">
                    <table class="table table-sm table-hover data-table" id="datatableexample">
                    <thead>
                      <tr style="background-color: #716ACA !important;">
                        <td>Sr #</td>
                        <td>Branch</td>
                        <td>Rider</td>
                        <td>Order No</td>
                        <td>Customer</td>
                        <td>Book Time</td>
                        <td>Receive Time</td>
                        <td>Dispatch Time</td>
                        <td>Arrive Time</td>
                        <td>Final Status</td>
                        <td>RiAddress	Amountder</td>
                        <td>IST</td>
                        <td>Deliver Time</td>
                        <td>Rating</td>
                        <td>Comments</td>
                        <td>Order Status</td>
                        <td>Dispatch Status</td>
                        <td>Latitude</td>
                        <td>Latitude</td>
                        <td>Distance</td>
                       
                      </tr>
                    </thead>
                    <tbody>
                      <!-- <tr *ngFor="let item of OrderDetails">
                         <td></td>
                          <td>{{ item.Title }}</td>
                          <td>{{ item.RiderName }}</td>
                          <td>{{ item.OrderNo }}</td>
                          <td>{{ item.CustomerName }}</td>
                          <td>{{ item.BookedDateTime }}</td>
                          <td>{{ item.ReceiveTime }}</td>
                          <td>{{ item.DispatchedDateTime }}</td>
                          <td>{{ item.ReachedDateTime }}</td>
                          <td>{{ item.FinalStatusDateTIme }}</td>
                          <td>{{ item.CustomerAddress }}</td>
                          <td>{{ item.IST }}</td>
                          <td>{{ item.ReceivedByDateTime }}</td>
                          <td>{{ item.Rating }}</td>

                          <td>{{ item.OrderStatus }}</td>
                          <td>{{ item.DispatchedDateTime }}</td>
                          <td>{{ item.Latitude }}</td>
                          <td>{{ item.Longitude }}</td>
                          <td>{{ item.Distance }}</td>
                        </tr> -->
                    </tbody>
                  </table>
                </div>
                </div>

                    <!-- End Table Part -->
        </div>
  
         <!-- End Body Part -->
      </div>
    </div>
  </div>